# Experience Catalyst Tutorial: AI-Powered Website Migration

In this tutorial, we will migrate the home page of [www.wknd-trendsetters.site](https://www.wknd-trendsetters.site/) to Edge Delivery Services via Experience Catalyst, walking you through how to use Experience Catalyst and AEMY, your AI-powered assistant for migration-related tasks.

The migration process consists of six key steps to transform your existing website into a high-performance Edge Delivery site:

1. **Analyze website** - Lists the site URLs
2. **Inventory** - Generates a list of unique block types
3. **Import script** - Creates the content conversion scripts for the site
4. **Import and upload content** - Convert the content to Edge Delivery
5. **Branding** - Apply global fonts and styles
6. **Block Styling** - Apply individual block styles

## Getting Ready

This guide assumes that the following have been already setup for you as per the instructions [here](support.md#access-request-process).

- A **SharePoint Folder** that you have been provisioned with.
- A **GitHub Repository** created from [sta-boilerplate](https://github.com/aemdemos/sta-boilerplate), with [AEMY](https://github.com/apps/aem-aemy) and [AEM Code Sync](https://github.com/apps/aem-code-sync) installed, and `fstab.yaml` configured to point to your SharePoint folder.
- The **Preview & Live URLs** for viewing your future migrated site.

Install the [**AEM Sidekick browser extension**](https://www.aem.live/docs/sidekick) for your project as it is helpful for previewing and publishing content updates from SharePoint to your Edge Delivery site. Sidekick is not required for using Experience Catalyst itself, which operates independently of the extension.

1. **Go to your preview URL**: You can find the preview URL in the "Environment" section of code repo readme.md file. The preview URL will show a "404 Page Not Found" message, which is expected for a new project.
2. **Check for the Sidekick bar**: If you do **not** see a gray Sidekick bar at the bottom of the page, install the [AEM Sidekick extension from the Chrome Web Store](https://chromewebstore.google.com/detail/igkmdomcgoebiipaifhmpfjhbjccggml). Note that this requires a Chromium-based browser, such as Google Chrome or Microsoft Edge.
3. **Sign in to Sidekick**: Once the Sidekick bar appears, look for the **Sign in** button on the right side. Click it and log in with your credentials.
4. **Add your project to Sidekick**: Open the Sidekick hamburger menu (â˜°) and select **Add this project** and close the confirmation message.

## Step 1: Analyze website

In this step, AEMY will discover all pages on the website and generate a comprehensive URL list.

1. Go to your GitHub repository 
2. Navigate to the **Issues** tab and click the **New issue** button
3. **Title**: `Analyze website` (you can use any title, AEMY only uses the description as its prompt)
4. **Description**: `Analyze https://www.wknd-trendsetters.site/` (this is your prompt towards AEMY)
5. Click **Create**

<img width="1174" height="1030" alt="Screenshot 2025-07-10 at 18 16 05" src="https://github.com/user-attachments/assets/6d51ade6-b631-4dbc-be63-9fdd26706087" />

Additionally, you need to add some labels for AEMY to listen to your issue. The possible ones that you can use are:
- **`aemy-help`**: Enables AEMY to monitor the issue and respond to comments.
- **`aemy-go`**: Instructs AEMY to carry out the action it has identified. When using this label, set it at the same time as the `aemy-help` label.
- **`aemy-merge`**: Instructs AEMY to automatically merge the pull request it generates.

For now, just add the `aemy-help` label. Within a few seconds, you'll receive a response from the AEMY agent, confirming that it understood your prompt to extract the URLs from your website. Since we haven't added the `aemy-go` label yet, you'll need to manually comment `/go` to instruct AEMY to proceed and create the pull request.

After that, AEMY will immediately add the `aemy-running` label to indicate that its process is underway. Once finished, it will create a pull request and add the `aemy-done` label. It will also remove the `aemy-help` label, meaning that AEMY is no longer monitoring this issue and you should follow any further instructions in the pull request where another `aemy-help` label was added.

**Note: DO NOT MERGE the pull request till it has the `aemy-done` label applied to it.**

1. Click the **Pull requests** tab in your repository.
2. Click on the newest pull request titled something like **AEMY's work for Analyze Website**.
3. Wait for AEMY to apply the `aemy-done` label to the pull request, indicating that it completed its work.
4. In the **Files changed** tab, you can see the `site-urls.json` file generated by AEMY that lists all discovered pages.
6. If the file looks good, you can mark the **draft** pull request as **Ready for review** by clicking the grey button with that title.
7. Finally, you can click the green **Merge pull request** button and confirm the merge. This will also close the associated issue.

**Summary**: With the `Analyze` prompt, AEMY generated the `tools/importer/site-urls.json` file containing all the URLs it found for the provided site.

<img width="1174" height="1030" alt="Screenshot 2025-07-10 at 18 20 10" src="https://github.com/user-attachments/assets/d0ac4ce3-e485-4c95-b72d-99f5ce4c0c8d" />

**Reference**: [Analyze command details](aemy-prompts.md#analyze-website)

## Step 2: Inventory

In this step, AEMY will identify all unique blocks that the site is made out of.

1. Like in the previous step, create a new issue
2. **Title**: `Inventory` (again, the title is not relevant for AEMY and can be anything)
3. **Description**: `Generate inventory` (this is your prompt)
4. **Labels**: `aemy-help`, `aemy-go`, `aemy-merge` (this time, let's apply all three labels right away)
5. Click **Create**

<img width="1174" height="1030" alt="Screenshot 2025-07-10 at 18 40 10" src="https://github.com/user-attachments/assets/bde3b20a-39f4-4275-968b-7f53b9f28a74" />

When you create this issue, the `aemy-go` label tells AEMY to automatically start identifying all the unique blocks on your website.

Please note: this process can take some time, typically about 20 to 40 minutes.

Because you've also added the `aemy-merge` label, the resulting pull request will be merged automatically and this issue closed as soon as the task is finished. You'll see this when the `aemy-done` label appears.

**Summary**: With the `Generate inventory` prompt, AEMY scanned all the URLs listed in `tools/importer/site-urls.json` and generated `tools/importer/inventory.json`, which lists all the unique visual blocks it found.

<img width="1174" height="1030" alt="Screenshot 2025-07-10 at 18 42 22" src="https://github.com/user-attachments/assets/3ebb197e-1cab-4acf-b51f-97297c1cadb0" />

**Reference**: [Inventory command details](aemy-prompts.md#block-inventory)

## Step 3: Import script

In this step, AEMY will generate import scripts for each block type, so that the content can later be accurately extracted and mapped to Edge Delivery blocks.

1. Create a new issue
2. **Title**: `Import script`
3. **Description**: `Create an import script for the site`
4. **Labels**: `aemy-help`, `aemy-go`
5. Click **Create**

<img width="1174" height="1030" alt="Screenshot 2025-07-10 at 18 43 37" src="https://github.com/user-attachments/assets/88b4d9a9-e279-401a-8b79-2d0d262672e9" />

This task typically takes 5 to 10 minutes.

Once the task completes, you need to go to the pull request to merge it since you haven't added the `aemy-merge` label. You can do so by following the pull request link in AEMY's comment. There, in AEMY's comment, you can see the list of all scripts it generated in `/tools/importer/`.

**Note: DO NOT MERGE the pull request till it has the `aemy-done` label applied to it.**

Making sure that the pull request has the `aemy-done` label, you can now merge and close the pull request.

<img width="1174" height="1030" alt="Screenshot 2025-07-10 at 18 45 32" src="https://github.com/user-attachments/assets/686489ac-7707-4984-9d3f-2af737139359" />

**Summary**: With the `Import script` prompt, AEMY created parser and transformer scripts for each block type identified in the `tools/importer/inventory.json`, which will allow the next step to reliably convert the content from your site to Edge Delivery blocks.

**Reference**: [Import script command details](aemy-prompts.md#import-script)

## Step 4: Import and upload content

Now comes the key part; effectively migrating the content from your website into clean, semantic documents that can be used with Edge Delivery. Let's dive in and watch your site come to life.

### Import content

In this step, AEMY will convert all pages to documents using your import script:

1. Create a new issue
2. **Title**: `Import content`
3. **Description**: `Import the content`
4. **Labels**: `aemy-help`, `aemy-go`
5. Click **Create**

<img width="1618" height="1312" alt="Screenshot 2025-07-22 at 14 13 58" src="https://github.com/user-attachments/assets/3aae490c-e135-4e93-b9e1-1b047bdd43de" />

After this task is finished, you won't get a pull request as in the previous steps. Instead, you'll receive a download link to a Zip file containing the imported content. Copy the link by right-clicking on it and select **Copy link address**. You can now close this issue.

**Important**: This URL expires after 24 hours. If it has expired, follow-up in the same GitHub issue asking AEMY to download content by adding: `Download imported content` to the issue body and apply the `aemy-help` label. 

<img width="1174" height="1030" alt="Screenshot 2025-07-10 at 18 49 48" src="https://github.com/user-attachments/assets/81d6ec2f-92b8-4fa0-944e-7dc0a9e1cd7d" />

**Summary**: With the `Import content` prompt, AEMY used `tools/importer/site-urls.json` and `tools/importer/inventory.json` to go through all the pages on your site and used the import script to parse the block content found on each page. It generated a Zip file containing all the content converted into Edge Delivery documents.

**Reference**: [Import content command details](aemy-prompts.md#import-content)

### Upload content

In this step, AEMY will upload the generated documents to our SharePoint folder.

1. Create a new issue
2. **Title**: `Upload content`
3. **Description**: `Upload the content using this download url [insert the lengthy URL AEMY gave you in the last step] and preview it`.
4. **Labels**: `aemy-help`, `aemy-go`
5. Click **Create**

<img width="1174" height="1030" alt="Screenshot 2025-07-10 at 19 05 50" src="https://github.com/user-attachments/assets/ceffc74c-7c34-498a-8015-0ab4b89c7a53" />

Once AEMY is done with this task:
1. Close this issue.
2. Go to your Sharepoint folder, select all files present in your website folder and click **Preview** button on sidekick.
4. **Success**: The content from your site is now all on Edge Delivery! You can check the content on the preview URL (which gave 404 error before you started with Step 1 of this tutorial)

<img width="1174" height="1030" alt="Screenshot 2025-07-10 at 18 54 34" src="https://github.com/user-attachments/assets/88781614-fb39-40cd-8e5a-56b814e72eae" />

**Reference**: [Upload content command details](aemy-prompts.md#upload-content)

## Step 5: Branding

In this step, AEMY will establish your site's visual identity.

1. Create a new issue
2. **Title**: `Branding`
3. **Description**: `Please setup the brand (eg. fonts)`
4. **Labels**: `aemy-help`, `aemy-go`
5. Click **Create**

<img width="1174" height="1030" alt="Screenshot 2025-07-10 at 18 56 09" src="https://github.com/user-attachments/assets/f4b5232a-926e-4929-8b4d-4d2c70b0bd69" />

Once AEMY is done with this task:
1. Go to the generated pull request.
2. Open the Before and After URLs in separate tabs to compare the changes.
3. On the pull request, see the files updated by AEMY to possibly further edit them manually later on.
4. Merge the pull request.
5. A few seconds later, if you force-refresh your regular preview URL, you should now see the branding applied there as well.

**Note**: Extracting the site colors will be available soon.

<img width="1174" height="1030" alt="Screenshot 2025-07-10 at 18 57 12" src="https://github.com/user-attachments/assets/8931e839-94e6-4aeb-8221-74772aafdb16" />

**Reference**: [Branding command details](aemy-prompts.md#branding)

## Step 6: Style block

For any of the blocks present in the imported content, you can style it using AEMY.

1. In your SharePoint folder, go to the `index.docx` document
2. From the content, copy any block and variant name, like for example: `Cards (cards32)`
3. On GitHub, create a new issue
4. **Title**: `Style block`
5. **Description**: `Style block [block name (variant name)]` e.g `Style block Cards (cards32)`
6. **Labels**: `aemy-help`, `aemy-go`
7. Click **Create**

**Important**: In the description, use the exact block and variant name as they appear in your content document (e.g., `Cards (cards32)` and not just `cards`).

<img width="1174" height="1030" alt="Screenshot 2025-07-10 at 18 58 27" src="https://github.com/user-attachments/assets/cce43378-a876-4045-ba74-41af033b0ff4" />

Once AEMY is done with this task (Check for `aemy-done` label on the PR):
1. Go to the generated pull request.
2. Open the 'Before' and 'After' URLs to compare the changes.
3. If additional changes are needed, you can prompt AEMY with further instructions by leaving comments on the pull request.
4. When satisfied, merge the pull request.

<img width="1174" height="1030" alt="Screenshot 2025-07-10 at 18 59 41" src="https://github.com/user-attachments/assets/e1aa1e5a-63e3-4fde-a048-069dada4809d" />

**Note**: 
- Repeat Step 6 for the rest of the blocks in the `index.docx` page.
- While you can style distinct blocks parallelly, don't style variants of the same block at the same time. e.g `Columns (columns30)` and `Columns (columns40)`

**Reference**: [Style block command details](aemy-prompts.md#style-block)

## Next Steps

**Congratulations!** You've successfully migrated a website using Experience Catalyst. This AI-powered approach reduces migration time from months to hours while maintaining full control over the output.

To understand what happened, explore these key files:
- `/tools/importer/site-urls.json`: All discovered pages
- `/tools/importer/inventory.json`: The block catalog
- `/tools/importer/import.js`: The import script
- `/tools/importer/parsers`: The block parsers
- `/tools/importer/transformers`: The HTML transformers
- `/styles/`: Global fonts and styles
- `/blocks/`: Block implementations and styles

Now that you've completed your first migration:
1. **Learn More**: Keep the [AEMY Prompt Reference](aemy-prompts.md) under your pillow.
1. **Optimize**: Proceed with fine-tuning the styles of individual blocks.
1. **Customize**: Modify the import scripts for specific needs.
1. **Expand**: Try migrating different types of sites.
  - If you are preparing a demo of a large site and only need a small subset of pages, you can provide a fixed set of URLs to AEMY. Example analyze prompt:
```
Analyze the website https://example.com and use this list of URLs:

https://example.com/page1
https://example.com/page2
https://example.com/page3
```
  - Note: Only the URLs you provide will be included. As a result, linking to other pages that were not included will result in a 404 on your Edge Delivery Services site

IMPORTANT: The above process broke down the process in distinct steps. To have AEMY run all steps in sequence, you can use `Catalyse` flow. See this [video](https://adobe.sharepoint.com/:v:/s/AEMDemos/EcBetvTtRG9OuISZgF8czQkBheNgsTf28DhEg9LN-VDVEw?e=58XxCm) to understand how it works. Happy Catalyzing! 
